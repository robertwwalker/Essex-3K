<!DOCTYPE html>
<html lang="en-US">

<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">
<meta name="author" content="3K: Dynamics and Heterogeneity">
<meta name="description" content="Simulating Data Simulating data under an ARIMA model in R is made rather easy. From the documentation on arima in stats, we obtain that $$ X_t = a1 X{t-1} &#43; a{2} X{t-2} &#43; \ldots &#43; a{p} X{t-p} &#43; b1 \epsilon{t-1} &#43; b[2] \epsilon{t-2} &#43; \ldots &#43; b{q} \epsilon{t-q} $$ by construction. This can be adjusted with the rand.gen argument.
library(ggplot2) library(forecast) my.data &lt;- arima.sim(list(ar=c(0.7,0.2)), n=100) my.data2 &lt;- data.frame(x=seq(1,100), y=my.data) ggplot(my.">

<meta property="og:title" content="ACF and PACF on Generated Data" />
<meta property="og:description" content="Simulating Data Simulating data under an ARIMA model in R is made rather easy. From the documentation on arima in stats, we obtain that $$ X_t = a1 X{t-1} &#43; a{2} X{t-2} &#43; \ldots &#43; a{p} X{t-p} &#43; b1 \epsilon{t-1} &#43; b[2] \epsilon{t-2} &#43; \ldots &#43; b{q} \epsilon{t-q} $$ by construction. This can be adjusted with the rand.gen argument.
library(ggplot2) library(forecast) my.data &lt;- arima.sim(list(ar=c(0.7,0.2)), n=100) my.data2 &lt;- data.frame(x=seq(1,100), y=my.data) ggplot(my." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://essex2019-3k.netlify.com/code/acf-and-pacf-on-generated-data/" />
<meta property="article:published_time" content="2019-05-18T00:00:00&#43;00:00"/>
<meta property="article:modified_time" content="2019-05-18T00:00:00&#43;00:00"/>


<title>


     ACF and PACF on Generated Data 

</title>
<link rel="canonical" href="https://essex2019-3k.netlify.com/code/acf-and-pacf-on-generated-data/">







<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/styles/default.min.css">




<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Ubuntu+Mono:400,400i,700,700i|Raleway:500">



    
    <link rel="stylesheet" href="https://essex2019-3k.netlify.com/css/reset.css?t=2019-08-08%2001%3a47%3a02.8177264%20-0700%20PDT%20m%3d%2b1.562475901">
    <link rel="stylesheet" href="https://essex2019-3k.netlify.com/css/pygments.css?t=2019-08-08%2001%3a47%3a02.8177264%20-0700%20PDT%20m%3d%2b1.562475901">
    <link rel="stylesheet" href="https://essex2019-3k.netlify.com/css/main.css?t=2019-08-08%2001%3a47%3a02.8177264%20-0700%20PDT%20m%3d%2b1.562475901">
    
        <link rel="stylesheet" href="https://essex2019-3k.netlify.com/css/override.css?t=2019-08-08%2001%3a47%3a02.8177264%20-0700%20PDT%20m%3d%2b1.562475901">
    




<link rel="shortcut icon"

    href="https://essex2019-3k.netlify.com/img/leaf.ico"

>








</head>


<body lang="en">

<section class="header">
    <div class="container">
        <div class="content">
            
                
                
                
                
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                
                <a href="https://essex2019-3k.netlify.com/"><img class="avatar" src="https://essex2019-3k.netlify.com/img/HLogo2.png" srcset="https://essex2019-3k.netlify.com/img/HLogo2.png 1x"></a>
            
            <a href="https://essex2019-3k.netlify.com/"><div class="name">3K: Dynamics and Heterogeneity</div></a>
            
              <h3 class="self-intro">Time Series and Panel Data</h3>
            
            <nav>
                <ul>
                    
                        <li class="nav-blog"><a href="https://essex2019-3k.netlify.com/blog/"><span>Blog</span></a></li>
                    
                        <li class="nav-code"><a href="https://essex2019-3k.netlify.com/code/"><span>Code</span></a></li>
                    
                        <li class="nav-syllabus"><a href="https://essex2019-3k.netlify.com/syllabus/"><span>Syllabus</span></a></li>
                    
                        <li class="nav-lectures"><a href="https://essex2019-3k.netlify.com/lectures/"><span>Lectures</span></a></li>
                    
                        <li class="nav-readings"><a href="https://essex2019-3k.netlify.com/readings/"><span>Readings</span></a></li>
                    
                        <li class="nav-about"><a href="https://essex2019-3k.netlify.com/about/"><span>About</span></a></li>
                    
                </ul>
            </nav>
        </div>
    </div>
</section>

<section class="icons">
    <div class="container">
        <div class="content">
        
            <a href="//github.com/robertwwalker" target="_blank" rel="noopener"><img class="icon" src="https://essex2019-3k.netlify.com/img/github.svg" alt="github" /></a>
        

        

        
            <a href="//twitter.com/PieRatio" target="_blank" rel="noopener"><img class="icon" src="https://essex2019-3k.netlify.com/img/twitter.svg" alt="twitter" /></a>
        

	

        

        

        

        

        

        

        

        

        
            <a href="mailto:rwalker@willamette.edu"><img class="icon" src="https://essex2019-3k.netlify.com/img/email.svg" alt="email" /></a>
        

        

        
        </div>
    </div>
</section>

<section class="main">
    <div class="container">
        <div class="content">
            <div class="page-heading">

    ACF and PACF on Generated Data

</div>

            <div class="markdown">
                

<h1 id="simulating-data">Simulating Data</h1>

<p>Simulating data under an ARIMA model in R is made rather easy.  From the documentation on arima in <code>stats</code>, we obtain that $$ X_t = a<em>1 X</em>{t-1} + a<em>{2} X</em>{t-2} + \ldots + a<em>{p} X</em>{t-p} + b<em>1 \epsilon</em>{t-1} + b<em>[2] \epsilon</em>{t-2} +
\ldots + b<em>{q} \epsilon</em>{t-q} $$ by construction.  This can be adjusted with the <code>rand.gen</code> argument.</p>

<pre><code class="language-r">library(ggplot2)
library(forecast)
my.data &lt;- arima.sim(list(ar=c(0.7,0.2)), n=100)
my.data2 &lt;- data.frame(x=seq(1,100), y=my.data)
ggplot(my.data2, aes(x=x, y=y)) + geom_line() + labs(x=&quot;Period&quot;, title=&quot;A Simulated AR(2): (0.7,0.25)&quot;, subtitle = &quot;Standard Normal disturbance&quot;)
</code></pre>

<p><img src="https://essex2019-3k.netlify.com/code/2019-05-18-acf-and-pacf-on-generated-data_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>

<p>What do the autocorrelation and partial look like?</p>

<pre><code class="language-r">acf(my.data)
</code></pre>

<p><img src="https://essex2019-3k.netlify.com/code/2019-05-18-acf-and-pacf-on-generated-data_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>

<pre><code class="language-r">pacf(my.data)
</code></pre>

<p><img src="https://essex2019-3k.netlify.com/code/2019-05-18-acf-and-pacf-on-generated-data_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>

<p>The pattern shows up, as it should, in the partial though the second term is sufficiently small that we will likely have little power.  First, an auto arima fit from <code>forecast</code>.</p>

<pre><code class="language-r">auto.arima(my.data)
</code></pre>

<pre><code>## Series: my.data 
## ARIMA(0,1,0) 
## 
## sigma^2 estimated as 1.151:  log likelihood=-147.44
## AIC=296.89   AICc=296.93   BIC=299.48
</code></pre>

<pre><code class="language-r">summary(arima(my.data, order=c(2,0,0)))
</code></pre>

<pre><code>## 
## Call:
## arima(x = my.data, order = c(2, 0, 0))
## 
## Coefficients:
##          ar1     ar2  intercept
##       0.7495  0.0832    -0.0530
## s.e.  0.0996  0.1010     0.5791
## 
## sigma^2 estimated as 1.042:  log likelihood = -144.52,  aic = 297.03
## 
## Training set error measures:
##                      ME     RMSE       MAE      MPE     MAPE      MASE
## Training set 0.03169582 1.020861 0.8089646 73.23479 128.4089 0.9314826
##                    ACF1
## Training set 0.01340957
</code></pre>

            </div>
        </div>
    </div>
</section>




  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/highlight.min.js"></script>
  

  <script type="text/javascript">
    hljs.initHighlightingOnLoad();
  </script>





</body>
</html>

